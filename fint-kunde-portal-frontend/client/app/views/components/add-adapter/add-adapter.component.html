<h2>Registrere adapter</h2>

<form [formGroup]="adapterForm" novalidate (ngSubmit)="save(adapterForm.value, adapterForm.valid)">
  <md-card>
    <md-card-content>
      <div class="row">
        <div class="col-4">
          <md-input placeholder="Kort beskrivelse" type="text" formControlName="shortDescription" required>
            <md-hint [hidden]="adapterForm.controls['shortDescription'].valid || adapterForm.controls['shortDescription'].pristine" align="end" style="color: red">
              <fint-fa name="warning"></fint-fa>
              <span *ngIf="adapterForm.controls['shortDescription'].hasError('required')">Påkrevd</span>
              <span *ngIf="adapterForm.controls['shortDescription'].hasError('minlength') || adapterForm.controls['shortDescription'].hasError('maxlength')">
                {{ personid.characterCount }} / 11 tegn
              </span>
            </md-hint>
          </md-input>
        </div>
        <div class="col-4">
          <md-input placeholder="Notat" type="text" formControlName="note" required>
            <md-hint [hidden]="adapterForm.controls['note'].valid || adapterForm.controls['note'].pristine" align="end" style="color: red">
              <fint-fa name="warning"></fint-fa>
              <span *ngIf="adapterForm.controls['note'].hasError('required')">Påkrevd</span>
              <span *ngIf="adapterForm.controls['note'].hasError('minlength') || adapterForm.controls['note'].hasError('maxlength')">
                {{ personid.characterCount }} / 11 tegn
              </span>
            </md-hint>
          </md-input>
        </div>
      </div>
      <div class="row">
        <div class="col-5">
          <md-input placeholder="API Nøkkel" [type]="userPassType" formControlName="uuid" disabled></md-input>
        </div>
        <div class="col-5">
          <md-input placeholder="API Hemmelighet" [type]="userPassType" formControlName="password" disabled></md-input>
        </div>
        <div class="col-2">
          <button md-icon-button type="button" title="Se nåværende verdier" (click)="toggleUserPassType()"><fint-fa name="eye"></fint-fa></button>
          <button md-icon-button type="button" title="Generer nye verdier" (click)="generateUserPass()"><fint-fa name="key"></fint-fa></button>
          <button md-icon-button type="button" title="Kopier nøkkel"><fint-fa name="copy"></fint-fa></button>
        </div>
      </div>
      <div class="row">
        <div class="col-8">
          <md-checkbox formControlName="confirmation" style="position: relative;">
            Bekreft at databehandleravtale er inngått med leverandør
            <md-hint [hidden]="adapterForm.value.confirmation === true" align="start" style="color: red; bottom: -2em;">
              <fint-fa name="warning"></fint-fa>
              <span>Må være bekreftet</span>
            </md-hint>
          </md-checkbox>
        </div>
      </div>
    </md-card-content>
    <md-card-actions>
      <button md-raised-button md-ripple type="submit" [disabled]="!adapterForm.valid || adapterForm.value.confirmation !== true"
        color="primary"><fint-fa name="save"></fint-fa>Lagre</button>
      <button md-raised-button md-ripple type="button" [routerLink]="['/components', componentId]"><fint-fa name="ban"></fint-fa>Lukk</button>
    </md-card-actions>
  </md-card>
</form>
